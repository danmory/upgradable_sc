// with contract parameter
archetype counter (owner: address)

variable counter: nat = 0

entry %increment () {
    called by owner
    effect {
        counter += 1
    }
}

entry %decrement () {
    called by owner
    effect {
        if counter > 0 then begin
            counter -= 1
        end
    }
}

view getCounter() : nat {
    return counter
}
